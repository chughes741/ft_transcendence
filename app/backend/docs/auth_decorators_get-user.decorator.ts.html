<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: auth/decorators/get-user.decorator.ts</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: auth/decorators/get-user.decorator.ts</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { createParamDecorator, ExecutionContext } from "@nestjs/common";

/**
 * @param field? : optional User field to query
 * @GetUser Decorator.
 * @return User | any
 *
 * Returns a User object (as defined in prisma schema)
 * from an HTTP connection if no field is specified
 * If a field is specified, return its contents.
 *
 */
export const GetUser = createParamDecorator(
  (field: string | undefined, ctx: ExecutionContext) => {
    const request = ctx.switchToHttp().getRequest(); // Exposes Express Request
    if (field) {
      return request.user[field];
    }
    return request.user;
  }
);

/**
 * @param field? : optional User field to query
 * @GetUserWs Decorator.
 * @return User | any
 *
 * Returns a User object (as defined in prisma schema)
 * from a WebSocket connection if no field is specified
 * If a field is specified, return its contents.
 *
 */
export const GetUserWs = createParamDecorator(
  (field: string | undefined, ctx: ExecutionContext) => {
    const user = ctx.switchToWs().getClient();
    if (field) {
      return user[field];
    }
    return user;
  }
);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="GameInviteDto.html">GameInviteDto</a></li><li><a href="GameModuleData.html">GameModuleData</a></li><li><a href="GameService.html">GameService</a></li><li><a href="GameStartEntity.html">GameStartEntity</a></li><li><a href="JoinGameEntity.html">JoinGameEntity</a></li><li><a href="JoinGameInviteDto.html">JoinGameInviteDto</a></li><li><a href="LoginGateway.html">LoginGateway</a></li><li><a href="PlayerReadyDto.html">PlayerReadyDto</a></li><li><a href="UserDto.html">UserDto</a></li><li><a href="gameLobby.html">gameLobby</a></li></ul><h3>Global</h3><ul><li><a href="global.html#GetUser">GetUser</a></li><li><a href="global.html#GetUserWs">GetUserWs</a></li><li><a href="global.html#addQueue">addQueue</a></li><li><a href="global.html#createLobby">createLobby</a></li><li><a href="global.html#gameStart">gameStart</a></li><li><a href="global.html#getPairQueue">getPairQueue</a></li><li><a href="global.html#joinGameQueue">joinGameQueue</a></li><li><a href="global.html#join_time">join_time</a></li><li><a href="global.html#removeQueue">removeQueue</a></li><li><a href="global.html#sendGameInvite">sendGameInvite</a></li><li><a href="global.html#startNewGame">startNewGame</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Tue Mar 21 2023 14:56:18 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
